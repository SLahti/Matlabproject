%%% newTrackTarget
%%%
%%%
%%%

function trackTarget(tracker, flag, handles)

while flag

    frame  = getsnapshot(handles.video);
    axes(handles.axes2);
    imshow(frameOut, 'Parent', handles.axes2);
    
    [points, isFound] = step(tracker, frame);
    visiblePts = points(isFound, :);

    % Only if there are more than two visable pts
    %if size(visiblePts, 1) >= 2
    % Annotated the visable pts in the frame
    frameOut = insertMarker(frame, visiblePts, 'X', 'Size', 10, ...
                             'Color', 'green');
    % else
        % If 'all' pts are lost: end loop
       % disp('Less than two points!');
    % end

    % Display the annotated video frame using the video player object
    
end